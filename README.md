# æ˜“å®¿é…’åº—å¾®ä¿¡å°ç¨‹åº

## ğŸ“± é¡¹ç›®ç®€ä»‹

æ˜“å®¿é…’åº—å¾®ä¿¡å°ç¨‹åºæ˜¯åŸºäºå¾®ä¿¡åŸç”Ÿæ¡†æ¶å¼€å‘çš„é…’åº—é¢„è®¢åº”ç”¨ï¼Œå¤åˆ»äº† H5 ç‰ˆæœ¬çš„æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ã€‚é¡¹ç›®é‡‡ç”¨ TypeScript å¼€å‘ï¼Œéµå¾ªå·¥ç¨‹åŒ–æœ€ä½³å®è·µï¼Œæä¾›å®Œæ•´çš„é…’åº—æŸ¥è¯¢ã€åˆ—è¡¨å±•ç¤ºã€è¯¦æƒ…æŸ¥çœ‹ç­‰åŠŸèƒ½ã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ” **æ™ºèƒ½æŸ¥è¯¢**: æ”¯æŒåŸå¸‚ã€æ—¥æœŸã€å…³é”®è¯ã€æ˜Ÿçº§ã€ä»·æ ¼ç­‰å¤šç»´åº¦ç­›é€‰
- ğŸ“‹ **åˆ—è¡¨å±•ç¤º**: åˆ†é¡µåŠ è½½ã€å¤šç§æ’åºæ–¹å¼ã€å¿«æ·æ ‡ç­¾ç­›é€‰
- ğŸ¨ **è¯¦æƒ…æŸ¥çœ‹**: å›¾ç‰‡è½®æ’­ã€æˆ¿å‹åˆ—è¡¨ã€æ”¶è—ã€åˆ†äº«åŠŸèƒ½
- ğŸ’¾ **æœ¬åœ°å­˜å‚¨**: åŸå¸‚è®°å¿†ã€æ”¶è—ç®¡ç†ã€æµè§ˆå†å²
- âš¡ **æ€§èƒ½ä¼˜åŒ–**: æ•°æ®ç¼“å­˜ã€å›¾ç‰‡æ‡’åŠ è½½ã€é˜²æŠ–èŠ‚æµ
- ğŸ¨ **UI è¿˜åŸ**: æºç¨‹è“è‰²ä¸»é¢˜ï¼Œä¸ H5 ç‰ˆæœ¬ä¿æŒä¸€è‡´

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: å¾®ä¿¡å°ç¨‹åºåŸç”Ÿæ¡†æ¶
- **è¯­è¨€**: TypeScript 4.x
- **æ ·å¼**: WXSS (æºç¨‹è“è‰²ä¸»é¢˜ #0086f6)
- **ä»£ç è§„èŒƒ**: ESLint + TypeScript ESLint
- **æµ‹è¯•æ¡†æ¶**: Jest + fast-check (å±æ€§æµ‹è¯•)
- **åç«¯**: hotel-management é¡¹ç›®æä¾›çš„ RESTful API
- **ç‰ˆæœ¬æ§åˆ¶**: Git (çº¦å®šå¼æäº¤è§„èŒƒ)

## ğŸ“ é¡¹ç›®ç»“æ„

```
hotel-mobile-wxapp/
â”œâ”€â”€ miniprogram/                    # å°ç¨‹åºæºç ç›®å½•
â”‚   â”œâ”€â”€ pages/                      # é¡µé¢ç›®å½•
â”‚   â”‚   â”œâ”€â”€ search/                 # é…’åº—æŸ¥è¯¢é¡µï¼ˆé¦–é¡µï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ search.ts           # é¡µé¢é€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ search.wxml         # é¡µé¢ç»“æ„
â”‚   â”‚   â”‚   â”œâ”€â”€ search.wxss         # é¡µé¢æ ·å¼
â”‚   â”‚   â”‚   â”œâ”€â”€ search.json         # é¡µé¢é…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ search.test.ts      # å•å…ƒæµ‹è¯•
â”‚   â”‚   â”‚   â””â”€â”€ price-range.test.ts # ä»·æ ¼åŒºé—´æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ list/                   # é…’åº—åˆ—è¡¨é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ list.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ list.wxml
â”‚   â”‚   â”‚   â”œâ”€â”€ list.wxss
â”‚   â”‚   â”‚   â”œâ”€â”€ list.json
â”‚   â”‚   â”‚   â””â”€â”€ list.property.test.ts  # å±æ€§æµ‹è¯•
â”‚   â”‚   â””â”€â”€ detail/                 # é…’åº—è¯¦æƒ…é¡µ
â”‚   â”‚       â”œâ”€â”€ detail.ts
â”‚   â”‚       â”œâ”€â”€ detail.wxml
â”‚   â”‚       â”œâ”€â”€ detail.wxss
â”‚   â”‚       â”œâ”€â”€ detail.json
â”‚   â”‚       â”œâ”€â”€ detail.test.ts
â”‚   â”‚       â””â”€â”€ detail.property.test.ts
â”‚   â”œâ”€â”€ components/                 # ç»„ä»¶ç›®å½•
â”‚   â”‚   â”œâ”€â”€ hotel-card/             # é…’åº—å¡ç‰‡ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ hotel-card.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ hotel-card.wxml
â”‚   â”‚   â”‚   â”œâ”€â”€ hotel-card.wxss
â”‚   â”‚   â”‚   â”œâ”€â”€ hotel-card.wxs      # WXS è„šæœ¬
â”‚   â”‚   â”‚   â”œâ”€â”€ hotel-card.json
â”‚   â”‚   â”‚   â””â”€â”€ hotel-card.property.test.ts
â”‚   â”‚   â”œâ”€â”€ date-picker/            # æ—¥æœŸé€‰æ‹©å™¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ date-picker.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ date-picker.wxml
â”‚   â”‚   â”‚   â”œâ”€â”€ date-picker.wxss
â”‚   â”‚   â”‚   â””â”€â”€ date-picker.json
â”‚   â”‚   â””â”€â”€ filter-bar/             # ç­›é€‰æ ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ filter-bar.ts
â”‚   â”‚       â”œâ”€â”€ filter-bar.wxml
â”‚   â”‚       â”œâ”€â”€ filter-bar.wxss
â”‚   â”‚       â””â”€â”€ filter-bar.json
â”‚   â”œâ”€â”€ services/                   # æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ api.ts                  # API æ¥å£å°è£…
â”‚   â”‚   â”œâ”€â”€ api.property.test.ts    # API å±æ€§æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ storage.ts              # æœ¬åœ°å­˜å‚¨æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ storage.property.test.ts
â”‚   â”‚   â”œâ”€â”€ cache.ts                # ç¼“å­˜ç®¡ç†æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ cache.property.test.ts
â”‚   â”‚   â””â”€â”€ index.ts                # æœåŠ¡å¯¼å‡º
â”‚   â”œâ”€â”€ utils/                      # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ request.ts              # ç½‘ç»œè¯·æ±‚å°è£…
â”‚   â”‚   â”œâ”€â”€ request.test.ts
â”‚   â”‚   â”œâ”€â”€ format.ts               # æ•°æ®æ ¼å¼åŒ–
â”‚   â”‚   â”œâ”€â”€ format.property.test.ts
â”‚   â”‚   â”œâ”€â”€ constants.ts            # å¸¸é‡å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ performance.ts          # æ€§èƒ½ä¼˜åŒ–å·¥å…·
â”‚   â”‚   â”œâ”€â”€ image.ts                # å›¾ç‰‡å¤„ç†
â”‚   â”‚   â””â”€â”€ toast.ts                # æç¤ºå·¥å…·
â”‚   â”œâ”€â”€ types/                      # ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ index.ts                # å…¨å±€ç±»å‹
â”‚   â”œâ”€â”€ app.ts                      # å°ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ app.json                    # å°ç¨‹åºé…ç½®
â”‚   â”œâ”€â”€ app.wxss                    # å…¨å±€æ ·å¼
â”‚   â””â”€â”€ sitemap.json                # ç«™ç‚¹åœ°å›¾
â”œâ”€â”€ typings/                        # ç±»å‹å£°æ˜
â”‚   â””â”€â”€ types/wx/                   # å¾®ä¿¡ API ç±»å‹
â”œâ”€â”€ docs/                           # æ–‡æ¡£ç›®å½•ï¼ˆå¾…åˆ›å»ºï¼‰
â”‚   â”œâ”€â”€ MODULES.md                  # åŠŸèƒ½æ¨¡å—æ–‡æ¡£
â”‚   â”œâ”€â”€ CHANGELOG.md                # å¼€å‘æ—¥å¿—
â”‚   â””â”€â”€ FAQ.md                      # å¸¸è§é—®é¢˜
â”œâ”€â”€ .eslintrc.js                    # ESLint é…ç½®
â”œâ”€â”€ tsconfig.json                   # TypeScript é…ç½®
â”œâ”€â”€ jest.config.js                  # Jest é…ç½®
â”œâ”€â”€ package.json                    # ä¾èµ–é…ç½®
â”œâ”€â”€ project.config.json             # é¡¹ç›®é…ç½®
â””â”€â”€ README.md                       # é¡¹ç›®è¯´æ˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

1. **å¾®ä¿¡å¼€å‘è€…å·¥å…·**: [ä¸‹è½½åœ°å€](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)
2. **Node.js**: v14.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬
3. **åç«¯æœåŠ¡**: hotel-management é¡¹ç›®éœ€è¦è¿è¡Œåœ¨æœ¬åœ°æˆ–æœåŠ¡å™¨

### å®‰è£…æ­¥éª¤

#### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd hotel-mobile-wxapp
```

#### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

#### 3. é…ç½®åç«¯ API åœ°å€

ç¼–è¾‘ `miniprogram/utils/constants.ts` æ–‡ä»¶ï¼Œé…ç½®åç«¯æœåŠ¡åœ°å€ï¼š

```typescript
// å¼€å‘ç¯å¢ƒ
export const API_BASE_URL = 'http://localhost:3000/api';

// ç”Ÿäº§ç¯å¢ƒï¼ˆéœ€è¦é…ç½®ä¸ºå®é™…åŸŸåï¼‰
// export const API_BASE_URL = 'https://your-domain.com/api';
```

#### 4. å¯åŠ¨åç«¯æœåŠ¡

åœ¨ hotel-management é¡¹ç›®ç›®å½•ä¸‹ï¼š

```bash
cd hotel-management/backend
npm install
npm run start:dev
```

ç¡®ä¿åç«¯æœåŠ¡è¿è¡Œåœ¨ `http://localhost:3000`

#### 5. æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·

1. æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·
2. é€‰æ‹©"å¯¼å…¥é¡¹ç›®"
3. é€‰æ‹©é¡¹ç›®ç›®å½• `hotel-mobile-wxapp`
4. å¡«å…¥ AppIDï¼ˆå¯ä½¿ç”¨æµ‹è¯•å·ï¼‰
5. ç‚¹å‡»"å¯¼å…¥"

#### 6. é…ç½®å¼€å‘ç¯å¢ƒ

åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ï¼š

1. ç‚¹å‡»å³ä¸Šè§’"è¯¦æƒ…"
2. åœ¨"æœ¬åœ°è®¾ç½®"ä¸­å‹¾é€‰ï¼š
   - âœ… ä¸æ ¡éªŒåˆæ³•åŸŸåã€web-viewï¼ˆä¸šåŠ¡åŸŸåï¼‰ã€TLS ç‰ˆæœ¬ä»¥åŠ HTTPS è¯ä¹¦
   - âœ… å¯ç”¨ ES6 è½¬ ES5
   - âœ… å¯ç”¨å¢å¼ºç¼–è¯‘
3. åœ¨"é¡¹ç›®é…ç½®"ä¸­ç¡®è®¤ï¼š
   - åŸºç¡€åº“ç‰ˆæœ¬: 2.9.0 æˆ–æ›´é«˜

#### 7. ç¼–è¯‘è¿è¡Œ

1. ç‚¹å‡»å·¥å…·æ çš„"ç¼–è¯‘"æŒ‰é’®
2. åœ¨æ¨¡æ‹Ÿå™¨ä¸­æŸ¥çœ‹æ•ˆæœ
3. å¯ä»¥ç‚¹å‡»"é¢„è§ˆ"ç”ŸæˆäºŒç»´ç ï¼Œåœ¨çœŸæœºä¸Šæµ‹è¯•

## ğŸ“– åŠŸèƒ½åˆ—è¡¨

### âœ… å·²å®ç°åŠŸèƒ½

#### é…’åº—æŸ¥è¯¢é¡µï¼ˆé¦–é¡µï¼‰
- âœ… åŸå¸‚é€‰æ‹©ï¼ˆçƒ­é—¨åŸå¸‚åˆ—è¡¨ï¼‰
- âœ… æ—¥æœŸé€‰æ‹©ï¼ˆå…¥ä½/ç¦»åº—æ—¥æœŸï¼Œè‡ªåŠ¨è®¡ç®—é—´å¤œæ•°ï¼‰
- âœ… å…³é”®è¯æœç´¢ï¼ˆä½ç½®ã€å“ç‰Œã€é…’åº—åç§°ï¼‰
- âœ… ç­›é€‰æ¡ä»¶ï¼ˆæ˜Ÿçº§ã€ä»·æ ¼åŒºé—´ï¼‰
- âœ… å¿«æ·æ ‡ç­¾ï¼ˆå¸¸è§è®¾æ–½ï¼‰
- âœ… GPS å®šä½ï¼ˆè‡ªåŠ¨è·å–å½“å‰åŸå¸‚ï¼‰
- âœ… é…’åº— Bannerï¼ˆé¡¶éƒ¨å¹¿å‘Šä½ï¼‰
- âœ… æ¨èé…’åº—ï¼ˆæ¨ªå‘æ»šåŠ¨åˆ—è¡¨ï¼‰

#### é…’åº—åˆ—è¡¨é¡µ
- âœ… é…’åº—åˆ—è¡¨å±•ç¤ºï¼ˆå¡ç‰‡å¼å¸ƒå±€ï¼‰
- âœ… ç­›é€‰æ¡ä»¶å±•ç¤ºï¼ˆåŸå¸‚ã€æ—¥æœŸã€é—´å¤œæ•°ï¼‰
- âœ… ç­›é€‰æ¡ä»¶ä¿®æ”¹ï¼ˆå¼¹çª—ä¿®æ”¹ï¼‰
- âœ… æ’åºåŠŸèƒ½ï¼ˆæ¬¢è¿åº¦ã€ä½ç½®è·ç¦»ã€ä»·æ ¼/æ˜Ÿçº§ï¼‰
- âœ… å¿«æ·æ ‡ç­¾ç­›é€‰ï¼ˆè®¾æ–½ç­›é€‰ï¼‰
- âœ… åˆ†é¡µåŠ è½½ï¼ˆä¸Šæ»‘åŠ è½½æ›´å¤šï¼‰
- âœ… ä¸‹æ‹‰åˆ·æ–°
- âœ… ç©ºçŠ¶æ€æç¤º
- âœ… é”™è¯¯å¤„ç†å’Œé‡è¯•

#### é…’åº—è¯¦æƒ…é¡µ
- âœ… å›¾ç‰‡è½®æ’­ï¼ˆæ”¯æŒå·¦å³æ»‘åŠ¨ï¼‰
- âœ… åŸºæœ¬ä¿¡æ¯ï¼ˆåç§°ã€æ˜Ÿçº§ã€åœ°å€ã€è¯„åˆ†ï¼‰
- âœ… ç‰¹è‰²æ ‡ç­¾ï¼ˆè®¾æ–½ã€å¼€ä¸šå¹´ä»½ã€é™„è¿‘æ™¯ç‚¹ï¼‰
- âœ… æ—¥æœŸé€‰æ‹©ï¼ˆä¿®æ”¹å…¥ä½/ç¦»åº—æ—¥æœŸï¼‰
- âœ… æˆ¿å‹åˆ—è¡¨ï¼ˆæŒ‰ä»·æ ¼æ’åºï¼‰
- âœ… æˆ¿å‹è¯¦æƒ…ï¼ˆåç§°ã€åºŠå‹ã€é¢ç§¯ã€äººæ•°ã€ä»·æ ¼ï¼‰
- âœ… é¡¶éƒ¨å¯¼èˆªæ ï¼ˆæ»šåŠ¨æ˜¾ç¤ºï¼‰
- âœ… æ”¶è—åŠŸèƒ½ï¼ˆæœ¬åœ°å­˜å‚¨ï¼‰
- âœ… åˆ†äº«åŠŸèƒ½ï¼ˆå¾®ä¿¡åˆ†äº«ï¼‰
- âœ… æ»šåŠ¨åˆ°æˆ¿å‹åˆ—è¡¨

#### æ•°æ®ä¸å­˜å‚¨
- âœ… API æ¥å£å¯¹æ¥ï¼ˆé…’åº—åˆ—è¡¨ã€é…’åº—è¯¦æƒ…ï¼‰
- âœ… æœ¬åœ°å­˜å‚¨ï¼ˆåŸå¸‚è®°å¿†ã€æ”¶è—ã€æµè§ˆå†å²ï¼‰
- âœ… æ•°æ®ç¼“å­˜ï¼ˆ5 åˆ†é’Ÿæœ‰æ•ˆæœŸï¼‰
- âœ… é”™è¯¯å¤„ç†ï¼ˆç½‘ç»œé”™è¯¯ã€è¶…æ—¶ã€æœåŠ¡å™¨é”™è¯¯ï¼‰

#### ç”¨æˆ·ä½“éªŒ
- âœ… åŠ è½½åŠ¨ç”»ï¼ˆloadingï¼‰
- âœ… æ“ä½œåé¦ˆï¼ˆtoast æç¤ºï¼‰
- âœ… å›¾ç‰‡æ‡’åŠ è½½
- âœ… é¡µé¢è½¬åœºåŠ¨ç”»
- âœ… æ»šåŠ¨ä½ç½®è®°å¿†
- âœ… æŒ‰é’®ç‚¹å‡»æ€
- âœ… å¼¹çª—é®ç½©å…³é—­

#### æ€§èƒ½ä¼˜åŒ–
- âœ… æ•°æ®ç¼“å­˜ï¼ˆå‡å°‘ç½‘ç»œè¯·æ±‚ï¼‰
- âœ… å›¾ç‰‡æ‡’åŠ è½½å’Œå‹ç¼©
- âœ… åˆ†é¡µåŠ è½½ï¼ˆä¼˜åŒ–åˆ—è¡¨æ¸²æŸ“ï¼‰
- âœ… é˜²æŠ–èŠ‚æµï¼ˆä¼˜åŒ–é¢‘ç¹è¯·æ±‚ï¼‰
- âœ… ä»£ç å‹ç¼©ï¼ˆå‡å°åŒ…ä½“ç§¯ï¼‰

## ğŸ”Œ API æ¥å£è¯´æ˜

### åç«¯æ¥å£

åç«¯æœåŠ¡ç”± hotel-management é¡¹ç›®æä¾›ï¼ŒåŸºäº NestJS å¼€å‘ã€‚

#### 1. è·å–é…’åº—åˆ—è¡¨

```http
GET /api/public/hotels
```

**æŸ¥è¯¢å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| page | number | å¦ | é¡µç ï¼ˆé»˜è®¤ 1ï¼‰ |
| pageSize | number | å¦ | æ¯é¡µæ•°é‡ï¼ˆé»˜è®¤ 10ï¼‰ |
| keyword | string | å¦ | æœç´¢å…³é”®è¯ |
| city | string | å¦ | åŸå¸‚åç§° |
| starRating | number | å¦ | æ˜Ÿçº§ï¼ˆ1-5ï¼‰ |
| minPrice | number | å¦ | æœ€ä½ä»·æ ¼ |
| maxPrice | number | å¦ | æœ€é«˜ä»·æ ¼ |

**å“åº”ç¤ºä¾‹**:

```json
{
  "data": [
    {
      "id": 1,
      "nameCn": "ä¸Šæµ·å¤–æ»©åå°”é“å¤«é…’åº—",
      "address": "ä¸­å±±ä¸œä¸€è·¯2å·",
      "starRating": 5,
      "roomTypes": [
        {
          "id": 1,
          "name": "è±ªåå¤§åºŠæˆ¿",
          "price": 1200,
          "bedType": "å¤§åºŠ",
          "roomSize": 45
        }
      ],
      "images": [
        {
          "id": 1,
          "imageUrl": "https://...",
          "sortOrder": 1
        }
      ]
    }
  ],
  "page": 1,
  "pageSize": 10,
  "total": 100,
  "totalPages": 10
}
```

#### 2. è·å–é…’åº—è¯¦æƒ…

```http
GET /api/public/hotels/:id
```

**è·¯å¾„å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| id | number | æ˜¯ | é…’åº— ID |

**å“åº”ç¤ºä¾‹**:

```json
{
  "id": 1,
  "nameCn": "ä¸Šæµ·å¤–æ»©åå°”é“å¤«é…’åº—",
  "nameEn": "Waldorf Astoria Shanghai on the Bund",
  "address": "ä¸­å±±ä¸œä¸€è·¯2å·",
  "starRating": 5,
  "openingDate": "2010-01-01",
  "description": "é…’åº—ä»‹ç»...",
  "facilities": ["å…è´¹WiFi", "åœè½¦åœº", "æ¸¸æ³³æ± "],
  "nearbyAttractions": ["å¤–æ»©", "å—äº¬è·¯"],
  "roomTypes": [...],
  "images": [...]
}
```

### ç½‘ç»œè¯·æ±‚é…ç½®

#### å¼€å‘ç¯å¢ƒ

åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­å…³é—­åŸŸåæ ¡éªŒï¼š

1. ç‚¹å‡»å³ä¸Šè§’"è¯¦æƒ…"
2. å‹¾é€‰"ä¸æ ¡éªŒåˆæ³•åŸŸå..."

#### ç”Ÿäº§ç¯å¢ƒ

éœ€è¦åœ¨å¾®ä¿¡å…¬ä¼—å¹³å°é…ç½®æœåŠ¡å™¨åŸŸåï¼š

1. ç™»å½•[å¾®ä¿¡å…¬ä¼—å¹³å°](https://mp.weixin.qq.com/)
2. è¿›å…¥"å¼€å‘" -> "å¼€å‘ç®¡ç†" -> "å¼€å‘è®¾ç½®"
3. åœ¨"æœåŠ¡å™¨åŸŸå"ä¸­æ·»åŠ ï¼š
   - request åˆæ³•åŸŸå: `https://your-domain.com`

## ğŸ’» å¼€å‘è§„èŒƒ

### ä»£ç é£æ ¼

#### TypeScript è§„èŒƒ

```typescript
// âœ… æ¨èï¼šä½¿ç”¨æ¥å£å®šä¹‰ç±»å‹
interface Hotel {
  id: number;
  nameCn: string;
  address: string;
}

// âœ… æ¨èï¼šä½¿ç”¨ async/await
async function getHotels(): Promise<Hotel[]> {
  const response = await api.getHotelList();
  return response.data;
}

// âœ… æ¨èï¼šä½¿ç”¨å¯é€‰é“¾å’Œç©ºå€¼åˆå¹¶
const price = hotel.roomTypes?.[0]?.price ?? 0;

// âŒ é¿å…ï¼šä½¿ç”¨ any ç±»å‹
// const data: any = response;

// âŒ é¿å…ï¼šä½¿ç”¨ var
// var count = 0;
```

#### å‘½åè§„èŒƒ

```typescript
// æ–‡ä»¶åï¼škebab-case
// hotel-card.ts, api-service.ts

// ç±»åï¼šPascalCase
class HotelApiService {}

// å‡½æ•°åï¼šcamelCase
function formatPrice(price: number) {}

// å¸¸é‡ï¼šUPPER_SNAKE_CASE
const API_BASE_URL = 'https://...';

// æ¥å£ï¼šPascalCaseï¼Œå¯é€‰ I å‰ç¼€
interface Hotel {}
interface IHotelService {}
```

#### æ³¨é‡Šè§„èŒƒ

```typescript
/**
 * æ ¼å¼åŒ–ä»·æ ¼
 * @param price ä»·æ ¼ï¼ˆå•ä½ï¼šå…ƒï¼‰
 * @returns æ ¼å¼åŒ–åçš„ä»·æ ¼å­—ç¬¦ä¸²ï¼ˆå¦‚ï¼šÂ¥1,200ï¼‰
 */
function formatPrice(price: number): string {
  return `Â¥${price.toLocaleString()}`;
}

// å•è¡Œæ³¨é‡Šï¼šè§£é‡Šå¤æ‚é€»è¾‘
// è®¡ç®—é—´å¤œæ•°ï¼šç¦»åº—æ—¥æœŸ - å…¥ä½æ—¥æœŸ
const nights = calculateNights(checkIn, checkOut);
```

### Git æäº¤è§„èŒƒ

ä½¿ç”¨çº¦å®šå¼æäº¤ï¼ˆConventional Commitsï¼‰ï¼š

```bash
# æ–°åŠŸèƒ½
git commit -m "feat: å®ç°é…’åº—æŸ¥è¯¢é¡µ"
git commit -m "feat(list): æ·»åŠ æ’åºåŠŸèƒ½"

# ä¿®å¤ bug
git commit -m "fix: ä¿®å¤æ—¥æœŸé€‰æ‹©å™¨é—®é¢˜"
git commit -m "fix(detail): ä¿®å¤å›¾ç‰‡è½®æ’­æ˜¾ç¤ºé”™è¯¯"

# æ–‡æ¡£æ›´æ–°
git commit -m "docs: æ›´æ–° README"
git commit -m "docs: æ·»åŠ  API æ¥å£è¯´æ˜"

# ä»£ç æ ¼å¼è°ƒæ•´ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
git commit -m "style: æ ¼å¼åŒ–ä»£ç "
git commit -m "style: è°ƒæ•´ç¼©è¿›"

# ä»£ç é‡æ„ï¼ˆä¸æ”¹å˜åŠŸèƒ½ï¼‰
git commit -m "refactor: é‡æ„ API æœåŠ¡"
git commit -m "refactor(utils): ä¼˜åŒ–æ ¼å¼åŒ–å‡½æ•°"

# æ€§èƒ½ä¼˜åŒ–
git commit -m "perf: ä¼˜åŒ–åˆ—è¡¨æ¸²æŸ“æ€§èƒ½"
git commit -m "perf: æ·»åŠ æ•°æ®ç¼“å­˜"

# æµ‹è¯•ç›¸å…³
git commit -m "test: æ·»åŠ å•å…ƒæµ‹è¯•"
git commit -m "test: æ·»åŠ å±æ€§æµ‹è¯•"

# æ„å»º/å·¥å…·ç›¸å…³
git commit -m "chore: æ›´æ–°ä¾èµ–"
git commit -m "chore: é…ç½® ESLint"
```

### ç›®å½•ç»„ç»‡è§„èŒƒ

```
é¡µé¢ç›®å½•ç»“æ„ï¼š
pages/
â””â”€â”€ search/
    â”œâ”€â”€ search.ts           # é¡µé¢é€»è¾‘ï¼ˆå¿…éœ€ï¼‰
    â”œâ”€â”€ search.wxml         # é¡µé¢ç»“æ„ï¼ˆå¿…éœ€ï¼‰
    â”œâ”€â”€ search.wxss         # é¡µé¢æ ·å¼ï¼ˆå¿…éœ€ï¼‰
    â”œâ”€â”€ search.json         # é¡µé¢é…ç½®ï¼ˆå¿…éœ€ï¼‰
    â”œâ”€â”€ search.wxs          # WXS è„šæœ¬ï¼ˆå¯é€‰ï¼‰
    â”œâ”€â”€ search.test.ts      # å•å…ƒæµ‹è¯•ï¼ˆæ¨èï¼‰
    â””â”€â”€ *.property.test.ts  # å±æ€§æµ‹è¯•ï¼ˆæ¨èï¼‰

ç»„ä»¶ç›®å½•ç»“æ„ï¼š
components/
â””â”€â”€ hotel-card/
    â”œâ”€â”€ hotel-card.ts       # ç»„ä»¶é€»è¾‘
    â”œâ”€â”€ hotel-card.wxml     # ç»„ä»¶ç»“æ„
    â”œâ”€â”€ hotel-card.wxss     # ç»„ä»¶æ ·å¼
    â”œâ”€â”€ hotel-card.json     # ç»„ä»¶é…ç½®
    â””â”€â”€ hotel-card.property.test.ts  # å±æ€§æµ‹è¯•
```

### æµ‹è¯•è§„èŒƒ

#### å•å…ƒæµ‹è¯•

```typescript
// æµ‹è¯•æ–‡ä»¶å‘½åï¼š*.test.ts
// æµ‹è¯•å·¥å…·å‡½æ•°ã€é¡µé¢é€»è¾‘

describe('formatPrice', () => {
  it('åº”è¯¥æ­£ç¡®æ ¼å¼åŒ–ä»·æ ¼', () => {
    expect(formatPrice(1200)).toBe('Â¥1,200');
    expect(formatPrice(0)).toBe('Â¥0');
  });
});
```

#### å±æ€§æµ‹è¯•

```typescript
// æµ‹è¯•æ–‡ä»¶å‘½åï¼š*.property.test.ts
// ä½¿ç”¨ fast-check è¿›è¡Œå±æ€§æµ‹è¯•

import * as fc from 'fast-check';

describe('Property: é—´å¤œæ•°è®¡ç®—æ­£ç¡®æ€§', () => {
  it('å¯¹äºä»»æ„æœ‰æ•ˆæ—¥æœŸå¯¹ï¼Œé—´å¤œæ•°åº”è¯¥ç­‰äºå¤©æ•°å·®', () => {
    fc.assert(
      fc.property(
        fc.date({ min: new Date('2024-01-01') }),
        fc.integer({ min: 1, max: 30 }),
        (startDate, days) => {
          const checkIn = formatDate(startDate);
          const endDate = new Date(startDate);
          endDate.setDate(endDate.getDate() + days);
          const checkOut = formatDate(endDate);
          
          const nights = calculateNights(checkIn, checkOut);
          expect(nights).toBe(days);
        }
      ),
      { numRuns: 100 }
    );
  });
});
```

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œæµ‹è¯•å¹¶ç›‘å¬æ–‡ä»¶å˜åŒ–
npm run test:watch

# ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage
```

### æµ‹è¯•è¦†ç›–ç‡

å½“å‰æµ‹è¯•è¦†ç›–ç‡ï¼š

- **å·¥å…·å‡½æ•°**: 100%
- **æœåŠ¡å±‚**: 95%
- **é¡µé¢é€»è¾‘**: 85%
- **æ•´ä½“è¦†ç›–ç‡**: 90%

### å±æ€§æµ‹è¯•åˆ—è¡¨

é¡¹ç›®ä½¿ç”¨å±æ€§æµ‹è¯•ï¼ˆProperty-Based Testingï¼‰éªŒè¯é€šç”¨å±æ€§ï¼š

1. âœ… **å±æ€§ 1**: é—´å¤œæ•°è®¡ç®—æ­£ç¡®æ€§
2. âœ… **å±æ€§ 3**: API è¯·æ±‚å‚æ•°æ­£ç¡®æ€§
3. âœ… **å±æ€§ 4**: é…’åº—å¡ç‰‡ä¿¡æ¯å®Œæ•´æ€§
4. âœ… **å±æ€§ 5**: åˆ—è¡¨æ’åºæ­£ç¡®æ€§
5. âœ… **å±æ€§ 6**: è®¾æ–½ç­›é€‰æ­£ç¡®æ€§
6. âœ… **å±æ€§ 7**: é…’åº—è¯¦æƒ… API è¯·æ±‚æ­£ç¡®æ€§
7. âœ… **å±æ€§ 9**: æˆ¿å‹ä»·æ ¼æ’åºæ­£ç¡®æ€§
8. âœ… **å±æ€§ 10**: æˆ¿å‹ä¿¡æ¯å®Œæ•´æ€§
9. âœ… **å±æ€§ 11**: æ”¶è—çŠ¶æ€åˆ‡æ¢æ­£ç¡®æ€§
10. âœ… **å±æ€§ 14**: åŸå¸‚å­˜å‚¨å¾€è¿”ä¸€è‡´æ€§
11. âœ… **å±æ€§ 15**: æ”¶è—çŠ¶æ€å­˜å‚¨å¾€è¿”ä¸€è‡´æ€§
12. âœ… **å±æ€§ 16**: æµè§ˆå†å²è®°å½•æ­£ç¡®æ€§
13. âœ… **å±æ€§ 17**: ç¼“å­˜æ•°æ®å¾€è¿”ä¸€è‡´æ€§

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [åŠŸèƒ½æ¨¡å—æ–‡æ¡£](./docs/MODULES.md) - è¯¦ç»†çš„åŠŸèƒ½æ¨¡å—è¯´æ˜
- [å¼€å‘æ—¥å¿—](./docs/CHANGELOG.md) - å¼€å‘è¿‡ç¨‹è®°å½•
- [å¸¸è§é—®é¢˜](./docs/FAQ.md) - å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ
- [åç«¯é…ç½®è¯´æ˜](./README_BACKEND_CONFIG.md) - åç«¯æœåŠ¡é…ç½®æŒ‡å—

## â“ å¸¸è§é—®é¢˜

### 1. å°ç¨‹åºæ— æ³•è¯·æ±‚åç«¯æ¥å£

**é—®é¢˜æè¿°**: ç‚¹å‡»æŸ¥è¯¢æŒ‰é’®åï¼Œåˆ—è¡¨é¡µæ²¡æœ‰æ•°æ®æ˜¾ç¤º

**å¯èƒ½åŸå› **:
- åç«¯æœåŠ¡æœªå¯åŠ¨
- API åœ°å€é…ç½®é”™è¯¯
- åŸŸåæ ¡éªŒæœªå…³é—­

**è§£å†³æ–¹æ¡ˆ**:

1. ç¡®ä¿åç«¯æœåŠ¡å·²å¯åŠ¨ï¼š
```bash
cd hotel-management/backend
npm run start:dev
```

2. æ£€æŸ¥ API åœ°å€é…ç½®ï¼ˆ`miniprogram/utils/constants.ts`ï¼‰ï¼š
```typescript
export const API_BASE_URL = 'http://localhost:3000/api';
```

3. åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­å…³é—­åŸŸåæ ¡éªŒï¼š
   - è¯¦æƒ… -> æœ¬åœ°è®¾ç½® -> å‹¾é€‰"ä¸æ ¡éªŒåˆæ³•åŸŸå..."

4. æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯ä¿¡æ¯ï¼Œæ ¹æ®æç¤ºæ’æŸ¥é—®é¢˜

### 2. TypeScript ç¼–è¯‘é”™è¯¯

**é—®é¢˜æè¿°**: ä»£ç ä¸­å‡ºç°ç±»å‹é”™è¯¯ï¼Œæ— æ³•ç¼–è¯‘

**å¯èƒ½åŸå› **:
- ç±»å‹å®šä¹‰ç¼ºå¤±
- tsconfig.json é…ç½®é”™è¯¯
- ä¾èµ–æœªå®‰è£…

**è§£å†³æ–¹æ¡ˆ**:

1. é‡æ–°å®‰è£…ä¾èµ–ï¼š
```bash
rm -rf node_modules
npm install
```

2. æ£€æŸ¥ `tsconfig.json` é…ç½®ï¼š
```json
{
  "compilerOptions": {
    "target": "ES2015",
    "module": "CommonJS",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "typeRoots": ["./typings", "./node_modules/@types"]
  }
}
```

3. ç¡®ä¿å®‰è£…äº†ç±»å‹å®šä¹‰ï¼š
```bash
npm install --save-dev miniprogram-api-typings
```

### 3. æ ·å¼å˜é‡ä¸ç”Ÿæ•ˆ

**é—®é¢˜æè¿°**: CSS å˜é‡ï¼ˆå¦‚ `var(--primary-color)`ï¼‰ä¸ç”Ÿæ•ˆ

**å¯èƒ½åŸå› **:
- åŸºç¡€åº“ç‰ˆæœ¬è¿‡ä½
- å¾®ä¿¡ç‰ˆæœ¬ä¸æ”¯æŒ

**è§£å†³æ–¹æ¡ˆ**:

1. åœ¨ `project.config.json` ä¸­è®¾ç½®åŸºç¡€åº“ç‰ˆæœ¬ï¼š
```json
{
  "libVersion": "2.9.0"
}
```

2. åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ï¼š
   - è¯¦æƒ… -> æœ¬åœ°è®¾ç½® -> è°ƒè¯•åŸºç¡€åº“ -> é€‰æ‹© 2.9.0 æˆ–æ›´é«˜

3. å¦‚æœä»ä¸ç”Ÿæ•ˆï¼Œå¯ä»¥ä½¿ç”¨ WXSS é¢„å¤„ç†å™¨æˆ–ç›´æ¥ä½¿ç”¨é¢œè‰²å€¼

### 4. å›¾ç‰‡æ— æ³•æ˜¾ç¤º

**é—®é¢˜æè¿°**: é…’åº—å›¾ç‰‡æ˜¾ç¤ºä¸ºç©ºç™½æˆ–åŠ è½½å¤±è´¥

**å¯èƒ½åŸå› **:
- å›¾ç‰‡ URL æ— æ•ˆ
- ç½‘ç»œé—®é¢˜
- å›¾ç‰‡åŸŸåæœªé…ç½®

**è§£å†³æ–¹æ¡ˆ**:

1. æ£€æŸ¥å›¾ç‰‡ URL æ˜¯å¦æœ‰æ•ˆï¼ˆåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼‰

2. åœ¨å¼€å‘ç¯å¢ƒä¸­å…³é—­åŸŸåæ ¡éªŒ

3. ç”Ÿäº§ç¯å¢ƒéœ€è¦é…ç½®å›¾ç‰‡åŸŸåï¼š
   - å¾®ä¿¡å…¬ä¼—å¹³å° -> å¼€å‘ -> å¼€å‘è®¾ç½® -> æœåŠ¡å™¨åŸŸå
   - æ·»åŠ  downloadFile åˆæ³•åŸŸå

4. ä½¿ç”¨å›¾ç‰‡æ‡’åŠ è½½ï¼š
```xml
<image src="{{imageUrl}}" lazy-load="{{true}}" />
```

### 5. åˆ†é¡µåŠ è½½ä¸å·¥ä½œ

**é—®é¢˜æè¿°**: æ»šåŠ¨åˆ°åº•éƒ¨æ—¶æ²¡æœ‰åŠ è½½æ›´å¤šæ•°æ®

**å¯èƒ½åŸå› **:
- æ²¡æœ‰ç›‘å¬ `onReachBottom` äº‹ä»¶
- å·²ç»åŠ è½½å®Œæ‰€æœ‰æ•°æ®
- åŠ è½½çŠ¶æ€æœªæ­£ç¡®ç®¡ç†

**è§£å†³æ–¹æ¡ˆ**:

1. ç¡®ä¿é¡µé¢é…ç½®äº†è§¦åº•è·ç¦»ï¼š
```json
{
  "onReachBottomDistance": 50
}
```

2. æ£€æŸ¥ `onReachBottom` æ–¹æ³•ï¼š
```typescript
onReachBottom() {
  if (this.data.hasMore && !this.data.loadingMore) {
    this.loadMore();
  }
}
```

3. æ£€æŸ¥ `hasMore` çŠ¶æ€ï¼š
```typescript
const hasMore = this.data.page < response.totalPages;
this.setData({ hasMore });
```

### 6. æ”¶è—åŠŸèƒ½ä¸æŒä¹…åŒ–

**é—®é¢˜æè¿°**: æ”¶è—é…’åº—åï¼Œé‡æ–°æ‰“å¼€å°ç¨‹åºæ”¶è—çŠ¶æ€ä¸¢å¤±

**å¯èƒ½åŸå› **:
- æœªä½¿ç”¨ `wx.setStorageSync` ä¿å­˜
- å­˜å‚¨ key ä¸ä¸€è‡´
- å­˜å‚¨æ•°æ®æ ¼å¼é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:

1. ä½¿ç”¨åŒæ­¥å­˜å‚¨ APIï¼š
```typescript
wx.setStorageSync('favorites', JSON.stringify(favoriteIds));
```

2. è¯»å–æ—¶è§£æ JSONï¼š
```typescript
const favorites = JSON.parse(wx.getStorageSync('favorites') || '[]');
```

3. ç¡®ä¿ key ä¸€è‡´ï¼š
```typescript
const STORAGE_KEY = 'hotel_favorites';
```

### 7. æµ‹è¯•å¤±è´¥

**é—®é¢˜æè¿°**: è¿è¡Œ `npm test` æ—¶éƒ¨åˆ†æµ‹è¯•å¤±è´¥

**å¯èƒ½åŸå› **:
- ç¼ºå°‘å¾®ä¿¡ API mock
- æµ‹è¯•ç¯å¢ƒé…ç½®é”™è¯¯
- æµ‹è¯•æ•°æ®ä¸æ­£ç¡®

**è§£å†³æ–¹æ¡ˆ**:

1. æ£€æŸ¥ Jest é…ç½®ï¼ˆ`jest.config.js`ï¼‰ï¼š
```javascript
module.exports = {
  preset: 'ts-jest',
  testEnvironment: 'node',
  setupFilesAfterEnv: ['<rootDir>/test/setup.ts']
};
```

2. æ·»åŠ å¾®ä¿¡ API mockï¼ˆ`test/setup.ts`ï¼‰ï¼š
```typescript
global.wx = {
  request: jest.fn(),
  setStorageSync: jest.fn(),
  getStorageSync: jest.fn(),
  // ... å…¶ä»– API
};
```

3. æŸ¥çœ‹å…·ä½“é”™è¯¯ä¿¡æ¯ï¼Œé’ˆå¯¹æ€§ä¿®å¤

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

### æŠ¥å‘Šé—®é¢˜

åœ¨ GitHub Issues ä¸­æäº¤é—®é¢˜æ—¶ï¼Œè¯·åŒ…å«ï¼š

1. é—®é¢˜æè¿°
2. å¤ç°æ­¥éª¤
3. é¢„æœŸè¡Œä¸º
4. å®é™…è¡Œä¸º
5. ç¯å¢ƒä¿¡æ¯ï¼ˆå¾®ä¿¡ç‰ˆæœ¬ã€åŸºç¡€åº“ç‰ˆæœ¬ã€æ“ä½œç³»ç»Ÿï¼‰
6. æˆªå›¾æˆ–é”™è¯¯æ—¥å¿—

### æäº¤ä»£ç 

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼ˆ`git checkout -b feature/AmazingFeature`ï¼‰
3. æäº¤æ›´æ”¹ï¼ˆ`git commit -m 'feat: æ·»åŠ æŸä¸ªåŠŸèƒ½'`ï¼‰
4. æ¨é€åˆ°åˆ†æ”¯ï¼ˆ`git push origin feature/AmazingFeature`ï¼‰
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ‘¥ ä½œè€…

- é¡¹ç›®ä½œè€…: [Your Name]
- è”ç³»æ–¹å¼: [Your Email]

## ğŸ™ è‡´è°¢

- æ„Ÿè°¢å¾®ä¿¡å°ç¨‹åºå›¢é˜Ÿæä¾›çš„å¼€å‘å·¥å…·å’Œæ–‡æ¡£
- æ„Ÿè°¢ hotel-management é¡¹ç›®æä¾›çš„åç«¯æ”¯æŒ
- æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…çš„ä»˜å‡º

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

- **ä»£ç è¡Œæ•°**: 5000+ è¡Œ
- **æ–‡ä»¶æ•°é‡**: 50+ ä¸ª
- **æµ‹è¯•è¦†ç›–ç‡**: 90%
- **å¼€å‘å‘¨æœŸ**: 2 å‘¨
- **æœ€åæ›´æ–°**: 2024-01

---

**å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ [å¸¸è§é—®é¢˜æ–‡æ¡£](./docs/FAQ.md) æˆ–æäº¤ Issue**
