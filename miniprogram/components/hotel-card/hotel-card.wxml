<!--
  ÈÖíÂ∫óÂç°ÁâáÁªÑ‰ª∂
  ÊòæÁ§∫ÈÖíÂ∫óÁöÑÂü∫Êú¨‰ø°ÊÅØÔºåÂåÖÊã¨ÂõæÁâá„ÄÅÂêçÁß∞„ÄÅÊòüÁ∫ß„ÄÅÂú∞ÂùÄ„ÄÅ‰ª∑Ê†º„ÄÅÊ†áÁ≠æ
-->
<wxs module="priceUtils" src="./hotel-card.wxs"></wxs>

<view class="hotel-card" bindtap="handleCardClick">
  <!-- ÈÖíÂ∫óÂõæÁâá -->
  <view class="hotel-card__image">
    <image 
      class="hotel-card__img" 
      src="{{hotel.images && hotel.images.length > 0 ? hotel.images[0].imageUrl : '/assets/placeholder.png'}}"
      mode="aspectFill"
      lazy-load="{{true}}"
    />
  </view>

  <!-- ÈÖíÂ∫ó‰ø°ÊÅØ -->
  <view class="hotel-card__content">
    <!-- ÈÖíÂ∫óÂêçÁß∞ÂíåÊòüÁ∫ß -->
    <view class="hotel-card__header">
      <text class="hotel-card__name">{{hotel.nameCn}}</text>
      <view class="hotel-card__stars" wx:if="{{hotel.starRating > 0}}">
        <block wx:for="{{hotel.starRating}}" wx:key="index">
          <text class="hotel-card__star">‚òÖ</text>
        </block>
      </view>
    </view>

    <!-- ÈÖíÂ∫óÂú∞ÂùÄ -->
    <view class="hotel-card__address">
      <text class="hotel-card__address-icon">üìç</text>
      <text class="hotel-card__address-text">{{hotel.address}}</text>
    </view>

    <!-- ÈÖíÂ∫óËÆæÊñΩÊ†áÁ≠æ -->
    <view class="hotel-card__tags" wx:if="{{hotel.facilities && hotel.facilities.length > 0}}">
      <block wx:for="{{hotel.facilities}}" wx:key="index" wx:if="{{index < 3}}">
        <text class="hotel-card__tag">{{item}}</text>
      </block>
    </view>

    <!-- ‰ª∑Ê†º‰ø°ÊÅØ -->
    <view class="hotel-card__footer" wx:if="{{showPrice && hotel.roomTypes && hotel.roomTypes.length > 0}}">
      <view class="hotel-card__price">
        <text class="hotel-card__price-label">¬•</text>
        <text class="hotel-card__price-value">{{priceUtils.getMinPrice(hotel)}}</text>
        <text class="hotel-card__price-unit">Ëµ∑</text>
      </view>
    </view>
  </view>
</view>
